(()=>{"use strict";const e=window.wp.blocks,l=window.wp.hooks,o=window.React,t=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,i=window.wp.coreData,a=window.ReactJSXRuntime,r=JSON.parse('{"UU":"presswind-blocks/mega-menu"}'),c=(0,a.jsx)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M20,12 L4,12 L4,13.5 L20,13.5 L20,12 Z M10,6.5 L4,6.5 L4,8 L10,8 L10,6.5 Z M20,17.5 L4,17.5 L4,19 L20,19 L20,17.5 Z M20,5.62462724 L16.000015,9 L12,5.62462724 L12.9791165,4.5 L16.000015,7.04920972 L19.0208935,4.5 L20,5.62462724 Z"})});(0,e.registerBlockType)(r.UU,{icon:c,edit:function({attributes:e,setAttributes:l}){const{label:r,menuSlug:c,link:d}=e,[p,w]=(0,o.useState)([]),{hasResolved:u,records:b}=(0,i.useEntityRecords)("postType","wp_template_part",{per_page:-1});return(0,o.useEffect)((()=>{u&&w(b.filter((e=>"menu"===e.area)).map((e=>({label:e.title.rendered,value:e.slug}))))}),[b,u]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.InspectorControls,{children:(0,a.jsxs)(s.PanelBody,{title:(0,t.__)("Settings","presswind-blocks"),initialOpen:!0,children:[(0,a.jsx)(s.TextControl,{label:(0,t.__)("Text","presswind-blocks"),type:"text",value:r,onChange:e=>l({label:e}),autoComplete:"off"}),(0,a.jsx)(s.TextControl,{label:(0,t.__)("Link","presswind-blocks"),type:"url",value:d,onChange:e=>l({link:e}),autoComplete:"off"}),(0,a.jsx)(s.ComboboxControl,{label:(0,t.__)("Mega Menu Template","presswind-blocks"),value:c,options:p,onChange:e=>l({menuSlug:e})})]})}),(0,a.jsx)("div",{...(0,n.useBlockProps)(),children:(0,a.jsx)("a",{className:"wp-block-navigation-item__content",children:(0,a.jsx)(n.RichText,{identifier:"label",className:"wp-block-navigation-item__label",value:r,onChange:e=>l({label:e}),"aria-label":(0,t.__)("Mega menu link text","presswind-blocks"),placeholder:(0,t.__)("Add labelâ€¦","presswind-blocks"),allowedFormats:["core/bold","core/italic","core/image","core/strikethrough"]})})})]})}}),(0,l.addFilter)("blocks.registerBlockType","add-mega-menu-block-to-navigation",((e,l)=>{var o;return"core/navigation"===l?{...e,allowedBlocks:[...null!==(o=e.allowedBlocks)&&void 0!==o?o:[],"presswind-blocks/mega-menu"]}:e}))})();